<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2024MSC - Cervical Cancer in Somaliland: Burden, Barriers, and Opportunities for Prevention</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">2024MSC</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./agenda.html" rel="" target="">
 <span class="menu-text">Agenda</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./abstract_uploads.html" rel="" target="">
 <span class="menu-text">Abstract and keynote</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./2024Project_HGH_laparoscopicCentre.html" rel="" target="">
 <span class="menu-text">Laparoscopic Centre</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./thanks.html" rel="" target="">
 <span class="menu-text">Acknowledgements</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./questionnaire.html" rel="" target="">
 <span class="menu-text">Questionnaire</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./h2023MSC.html" rel="" target="">
 <span class="menu-text">2023MSC</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">About TMM</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#background" id="toc-background" class="nav-link active" data-scroll-target="#background">Background:</a></li>
  <li><a href="#objectives" id="toc-objectives" class="nav-link" data-scroll-target="#objectives">Objectives:</a></li>
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">Methods:</a></li>
  <li><a href="#potential-challenges" id="toc-potential-challenges" class="nav-link" data-scroll-target="#potential-challenges">Potential Challenges:</a></li>
  <li><a href="#strategies" id="toc-strategies" class="nav-link" data-scroll-target="#strategies">Strategies:</a></li>
  <li><a href="#expected-outcomes" id="toc-expected-outcomes" class="nav-link" data-scroll-target="#expected-outcomes">Expected Outcomes:</a></li>
  <li><a href="#budget-considerations" id="toc-budget-considerations" class="nav-link" data-scroll-target="#budget-considerations">Budget Considerations:</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References:</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Cervical Cancer in Somaliland: Burden, Barriers, and Opportunities for Prevention</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="background" class="level3">
<h3 class="anchored" data-anchor-id="background">Background:</h3>
<p>Cervical cancer is a leading cause of cancer deaths among women in Africa, with an estimated age-standardized incidence rate of 27.6 per 100,000 in East Africa (Bruni et al., 2019). Approximately 95% of cervical cancer cases are caused by human papillomavirus (HPV) infection, particularly from high-risk genotypes (Muñoz et al., 2003). Despite this high regional burden, specific data on cervical cancer epidemiology in Somaliland is limited. Local healthcare providers at Hargeisa Group Hospital (HGH) anecdotally report cervical cancer as rare, contrasting with findings from Somali immigrant populations in the United States and Europe showing higher disease rates (<a href="https://dhhs.ne.gov/Documents/Cervical%20Cancer%20Attitudes%20and%20Knowledge%20in%20Somali%20Refugees%20in%20Nebraska.pdf" target="_blank">Dailey et al., 2017</a>; Idehen et al., 2020).</p>
<p>The key points regarding cervical cancer prevention and control strategies in Somaliland:</p>
<ul>
<li>Knowledge and awareness about cervical cancer, its risk factors, screening methods like HPV DNA, Pap smears, and prevention through HPV vaccination is very low among Somali women (<a href="https://www.imrpress.com/journal/CEOG/51/2/10.31083/j.ceog5102041/htm" target="_blank">Weli et al., 2023</a>; Gopalani et al., 2020; <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4312274/" target="_blank">Ghebre et al., 2015</a>). Many Somali women are not familiar with cervical cancer screening tests and concepts.</li>
<li>There is a lack of national cervical cancer screening programs and HPV vaccination programs in Somalia (<a href="https://www.imrpress.com/journal/CEOG/51/2/10.31083/j.ceog5102041/htm" target="_blank">Weli et al., 2023</a>) and Somaliland. Constraints in implementing and sustaining screening programs have limited the effectiveness of secondary prevention efforts.</li>
<li>Primary prevention through HPV vaccination is identified as a cost-effective preventive measure, but none of the Somali students surveyed had received the HPV vaccine (<a href="https://www.imrpress.com/journal/CEOG/51/2/10.31083/j.ceog5102041/htm" target="_blank">Weli et al., 2023</a>). Establishing national HPV vaccination strategies is recommended in Somaliland.</li>
<li>Barriers to cervical cancer screening among Somali women include limited knowledge, language difficulties, fear of the test, embarrassment exposing one’s body, negative past experiences, and cultural factors like preferring female providers (Gopalani et al., 2020; <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4312274/" target="_blank">Ghebre et al., 2015</a>).</li>
<li>Efforts are needed to increase awareness through culturally-appropriate health education programs targeting Somali women and their families (especially Somali Men) about cervical cancer, HPV, and prevention methods (<a href="https://www.imrpress.com/journal/CEOG/51/2/10.31083/j.ceog5102041/htm" target="_blank">Weli et al., 2023</a>; <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4312274/" target="_blank">Ghebre et al., 2015</a>).</li>
<li>Involving Somali men, who are often the key decision-makers in households, in cervical cancer prevention education could help increase uptake of screening and HPV vaccination among Somali women and adolescents (<a href="https://www.sph.umn.edu/news/men-may-key-cervical-cancer-prevention-among-somali-women-children/" target="_blank">University of Minnesota, 2015</a>).</li>
</ul>
<p>In summary, the literature highlights low levels of cervical cancer awareness and limited access to screening and vaccination services as major gaps in Somaliland and Somalia. Implementing national prevention programs, educational interventions tailored to Somali communities, and involving male household decision-makers are recommended strategies to improve cervical cancer control efforts in line with WHO goals (<a href="https://www.imrpress.com/journal/CEOG/51/2/10.31083/j.ceog5102041/htm" target="_blank">Weli et al., 2023</a>; <a href="https://www.sph.umn.edu/news/men-may-key-cervical-cancer-prevention-among-somali-women-children/" target="_blank">University of Minnesota, 2015</a>; <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4312274/" target="_blank">Ghebre et al., 2015</a>).</p>
<p>Accurate local data is critical for informing prevention and control strategies aligned with WHO’s global cervical cancer elimination targets. HPV infection, the primary cause of cervical cancer, can be detected through screening tests like Pap smears and HPV DNA assays. Screening provides an opportunity to identify precancerous lesions and early-stage cancers amenable to treatment.</p>
</section>
<section id="objectives" class="level3">
<h3 class="anchored" data-anchor-id="objectives">Objectives:</h3>
<ol type="1">
<li>Determine the prevalence of HPV infection and cervical abnormalities among women attending HGH</li>
<li>Raise awareness of cervical cancer burden and value of screening among HGH clinicians</li>
<li>Establish feasibility of implementing routine cervical cancer screening in the HGH setting</li>
<li>Train HGH pathologist doctors on organizing pathology data and contributing to cancer registries</li>
</ol>
</section>
<section id="methods" class="level3">
<h3 class="anchored" data-anchor-id="methods">Methods:</h3>
<p>We propose a pilot cross-sectional study of 500 women aged 30-49 presenting to HGH obstetrics and gynecology clinics. After informed consent, participants will undergo: - Pap smear and HPV DNA testing - Brief risk factor survey - Education on cervical cancer prevention</p>
<p>Pap smears will be processed and interpreted locally by trained HGH laboratory staff, with quality assurance review by TMM pathologists. HPV DNA samples will be analyzed using a validated PCR-based assay.</p>
<p>Results will be reported back to participants with appropriate follow-up recommendations. Aggregated, de-identified data will be shared with HGH clinicians, highlighting the proportion of women with positive screening results.</p>
<p>HGH pathologist doctors will receive training on systematically documenting and organizing pathology data from cervical specimens. They will learn best practices for contributing this data to hospital-based and national cancer registries to track cervical cancer trends over time.</p>
</section>
<section id="potential-challenges" class="level3">
<h3 class="anchored" data-anchor-id="potential-challenges">Potential Challenges:</h3>
<ul>
<li>Low perceived need for screening among clinicians</li>
<li>Cultural sensitivity around discussing sexually transmitted infections</li>
<li>Limited laboratory infrastructure and personnel</li>
</ul>
</section>
<section id="strategies" class="level3">
<h3 class="anchored" data-anchor-id="strategies">Strategies:</h3>
<ul>
<li>Engage HGH leadership as champions to promote screening</li>
<li>Frame messaging around cancer prevention benefits</li>
<li>Provide intensive laboratory training and remote telepathology support</li>
</ul>
</section>
<section id="expected-outcomes" class="level3">
<h3 class="anchored" data-anchor-id="expected-outcomes">Expected Outcomes:</h3>
<p>Quantifying the burden of HPV infection and cervical abnormalities in this pilot study will provide critical local data to inform future screening implementation. We anticipate identifying a substantial number of high-risk women who can benefit from treatment and surveillance. Uncovering a higher than expected burden would challenge assumptions about low cervical cancer incidence in Somaliland and reinforce the need for routine screening aligned with WHO elimination goals. Successful completion will demonstrate the feasibility and value of screening in this setting.</p>
<p>Improved pathology data management and cancer registry reporting by HGH pathologists will enable ongoing monitoring of cervical cancer epidemiology. This data can guide resource allocation and evaluate the impact of prevention efforts over time.</p>
</section>
<section id="budget-considerations" class="level3">
<h3 class="anchored" data-anchor-id="budget-considerations">Budget Considerations:</h3>
<ul>
<li>Pap smear and HPV DNA testing supplies</li>
<li>Laboratory equipment and training</li>
<li>Patient/provider education materials</li>
<li>Data management and analysis software</li>
<li>Personnel time for study coordination, specimen processing, and results reporting</li>
<li>Training for HGH pathologists on data organization and cancer registry reporting</li>
</ul>
</section>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References:</h3>
<p>Bruni, L., Albero, G., Serrano, B., Mena, M., Gómez, D., Muñoz, J., … &amp; de Sanjosé, S. (2019). Human papillomavirus and related diseases in the world. Summary report. ICO/IARC information centre on HPV and cancer. Vaccine, 37, C1-C26.</p>
<p><a href="https://dhhs.ne.gov/Documents/Cervical%20Cancer%20Attitudes%20and%20Knowledge%20in%20Somali%20Refugees%20in%20Nebraska.pdf" target="_blank">Dailey, P. M., Mohamed, A. S., &amp; Choi, W. S. (2017). Cervical cancer attitudes and knowledge in Somali refugees in Nebraska. Journal of Immigrant and Minority Health, 19(5), 1153-1160.</a></p>
<p><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4312274/" target="_blank">Ghebre, R. G., Sewali, B., Osman, S., Adawe, A., Nguyen, H. T., Okuyemi, K. S., &amp; Joseph, A. (2015). Cervical cancer: barriers to screening in the Somali community in Minnesota. Journal of immigrant and minority health, 17(3), 722-728.</a></p>
<p>Gopalani, S., Janitz, A., Campbell, J., &amp; Peck, J. (2020). Cervical cancer attitudes and knowledge in Somali refugees in Nebraska. Journal of Immigrant and Minority Health, 22(1), 190-197.</p>
<p>Idehen, E. E., Korhonen, T., Castaneda, A., Juntunen, T., Kangasniemi, M., Pietilä, A. M., &amp; Koponen, P. (2020). Factors associated with cervical cancer screening participation among immigrants of Russian, Somali and Kurdish origin: a population-based study in Finland. BMC women’s health, 20(1), 1-15.</p>
<p>Muñoz, N., Bosch, F. X., de Sanjosé, S., Herrero, R., Castellsagué, X., Shah, K. V., … &amp; Meijer, C. J. (2003). Epidemiologic classification of human papillomavirus types associated with cervical cancer. New England Journal of Medicine, 348(6), 518-527.</p>
<p><a href="https://www.sph.umn.edu/news/men-may-key-cervical-cancer-prevention-among-somali-women-children/" target="_blank">University of Minnesota. (2015). Men May Be Key to Cervical Cancer Prevention Among Somali Women and Children. Retrieved from https://www.sph.umn.edu/news/men-may-key-cervical-cancer-prevention-among-somali-women-children/</a></p>
<p><a href="https://www.imrpress.com/journal/CEOG/51/2/10.31083/j.ceog5102041/htm" target="_blank">Weli, M. M., Omer, S. M., Salad, H. S., Hersi, H. M., Hussein, F. A., &amp; Shirwac, A. A. (2023). Knowledge, Awareness and Behaviors of Somalian Female University Students regarding Cervical Cancer, HPV and the HPV Vaccine: A Cross-Sectional Study. Journal of Clinical Obstetrics and Gynecology, 51(2). DOI:10.31083/j.ceog5102041</a></p>
<!--

### References:

Bruni, L., Albero, G., Serrano, B., Mena, M., Gómez, D., Muñoz, J., ... & de Sanjosé, S. (2019). Human papillomavirus and related diseases in the world. Summary report. ICO/IARC information centre on HPV and cancer. Vaccine, 37, C1-C26.

Dailey, P. M., Mohamed, A. S., & Choi, W. S. (2017). Cervical cancer attitudes and knowledge in Somali refugees in Nebraska. Journal of Immigrant and Minority Health, 19(5), 1153-1160.

Ghebre, R. G., Sewali, B., Osman, S., Adawe, A., Nguyen, H. T., Okuyemi, K. S., & Joseph, A. (2015). Cervical cancer: barriers to screening in the Somali community in Minnesota. Journal of immigrant and minority health, 17(3), 722-728.

Gopalani, S., Janitz, A., Campbell, J., & Peck, J. (2020). Cervical cancer attitudes and knowledge in Somali refugees in Nebraska. Journal of Immigrant and Minority Health, 22(1), 190-197.

Idehen, E. E., Korhonen, T., Castaneda, A., Juntunen, T., Kangasniemi, M., Pietilä, A. M., & Koponen, P. (2020). Factors associated with cervical cancer screening participation among immigrants of Russian, Somali and Kurdish origin: a population-based study in Finland. BMC women's health, 20(1), 1-15.

Muñoz, N., Bosch, F. X., de Sanjosé, S., Herrero, R., Castellsagué, X., Shah, K. V., ... & Meijer, C. J. (2003). Epidemiologic classification of human papillomavirus types associated with cervical cancer. New England Journal of Medicine, 348(6), 518-527.

University of Minnesota. (2015). Men May Be Key to Cervical Cancer Prevention Among Somali Women and Children. Retrieved from https://www.sph.umn.edu/news/men-may-key-cervical-cancer-prevention-among-somali-women-children/

Weli, M. M., Omer, S. M., Salad, H. S., Hersi, H. M., Hussein, F. A., & Shirwac, A. A. (2023). Knowledge, Awareness and Behaviors of Somalian Female University Students regarding Cervical Cancer, HPV and the HPV Vaccine: A Cross-Sectional Study. Journal of Clinical Obstetrics and Gynecology, 51(2). DOI:10.31083/j.ceog5102041

-->
<!--


---
title: "The current cervical cancer prevention and control strategies in Somaliland"
---



The key points regarding cervical cancer prevention and control strategies in Somaliland:

- Knowledge and awareness about cervical cancer, its risk factors, screening methods like HPV DNA, Pap smears, and prevention through HPV vaccination is very low among Somali women [1][2][4]. Many Somali women are not familiar with cervical cancer screening tests and concepts.

- There is a lack of national cervical cancer screening programs and HPV vaccination programs in Somalia [1] and Somaliland. Constraints in implementing and sustaining screening programs have limited the effectiveness of secondary prevention efforts.

- Primary prevention through HPV vaccination is identified as a cost-effective preventive measure, but none of the Somali students surveyed had received the HPV vaccine [1]. Establishing national HPV vaccination strategies is recommended in Somaliland.

- Barriers to cervical cancer screening among Somali women include limited knowledge, language difficulties, fear of the test, embarrassment exposing one's body, negative past experiences, and cultural factors like preferring female providers [2][4].

- Efforts are needed to increase awareness through culturally-appropriate health education programs targeting Somali women and their families (especially Somali Men) about cervical cancer, HPV, and prevention methods [1][4].

- Involving Somali men, who are often the key decision-makers in households, in cervical cancer prevention education could help increase uptake of screening and HPV vaccination among Somali women and adolescents [3].

In summary, the literature highlights low levels of cervical cancer awareness and limited access to screening and vaccination services as major gaps in Somaliland and Somalia. Implementing national prevention programs, educational interventions tailored to Somali communities, and involving male household decision-makers are recommended strategies to improve cervical cancer control efforts in line with WHO goals [1][3][4].

Citations:

[1] <a href="https://www.imrpress.com/journal/CEOG/51/2/10.31083/j.ceog5102041/htm" target="_blank">Knowledge, Awareness and Behaviors of Somalian Female University Students regarding Cervical Cancer, HPV and the HPV Vaccine: A Cross-Sectional Study</a>

[2] <a href="https://dhhs.ne.gov/Documents/Cervical%20Cancer%20Attitudes%20and%20Knowledge%20in%20Somali%20Refugees%20in%20Nebraska.pdf" target="_blank"> Cervical Cancer Attitudes and Knowledge in Somali Refugees in ...</a>

[3] <a href="https://www.sph.umn.edu/news/men-may-key-cervical-cancer-prevention-among-somali-women-children/" target="_blank">Men May Be Key to Cervical Cancer Prevention Among Somali Women and Children</a>

[4] <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4312274/" target="_blank">Cervical Cancer: Barriers to screening in the Somali community in Minnesota</a>

[5] <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC10111298/" target="_blank">A Cervical Cancer Screening Toolkit for Somali Women: A Pilot Randomized Controlled Trial</a>

-->


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>